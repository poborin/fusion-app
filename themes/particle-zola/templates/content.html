{% macro about() %}
 <div class="user-details">
  <h1> About Fusion </h1>
  <p> {{ config.extra.user_description }} </p>
{% endmacro about %}

{% macro features() %}
<div class="user-details">
  <h1> Featurs </h1>
</div>
<div class="user-features">
  <div class="images-right">
    <img alt="mountains" src="{{ config.base_url ~ "/img/mountains.jpg" }}" />
  </div>
  <div class="contents">
    <h3> Training Plan Creation </h3>
    <p> Build comprehensive training plans with ease. Fusion offers intuitive tools to craft detailed schedules, drills, and exercise regimens tailored to your team's specific needs </p>
  </div>
</div>
<div class="user-features">
  <div class="images-left">
    <img alt="mountains" src="{{ config.base_url ~ "/img/skate.jpg" }}" />
  </div>
  <div class="contents-right">
    <h3> Team Communication </h3>
    <p>Stay connected with your team effortlessly. Send messages, share updates, and coordinate activities directly through Fusion's secure communication channels</p>
  </div>
</div>
<div class="user-features">
  <div class="images-right">
    <img alt="mountains" src="{{ config.base_url ~ "/img/mountains.jpg" }}" />
  </div>
  <div class="contents">
    <h3> Athlete Profiles </h3>
    <p> Create and manage detailed profiles for each athlete. Store vital information such as performance stats, personal goals, and training history, enabling a personalized coaching experience </p>
  </div>
</div>
<div class="user-features">
  <div class="images-left">
    <img alt="mountains" src="{{ config.base_url ~ "/img/skate.jpg" }}" />
  </div>
  <div class="contents-right">
    <h3> Athlete Progress Tracking </h3>
    <p>Monitor your athletes' performance systematically. Track metrics, set goals, and review progress with detailed analytics and reports, ensuring your team stays on the path to success</p>
  </div>
</div>
{% endmacro features %}

{% macro contact() %}
<div class="form-title">
  <h1>Contact</h1>
  <p>We'd love to hear from you! Please fill out the form below, and a member of our team will get back to you promptly.</p>
</div>
<form id="contactForm" onsubmit="submitForm(event)">
  <div class="form-group">
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" required>
  </div>
  <div class="form-group">
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required>
  </div>
  <div class="form-group">
    <label for="subject">Subject:</label>
    <input type="text" id="subject" name="subject" required>
  </div>
  <div class="form-group">
    <label for="message">Message:</label>
    <textarea id="message" name="message" required></textarea>
  </div>
  <button class="submit-button" type="submit">Submit</button>
</form>

<div id="toast" class="toast" style="display:none;">
  <span id="toastMessage"></span>
  <div class="spinner" id="formSpinner" style="display:none;"></div>
</div>

<script>
  async function submitForm(event) {
    event.preventDefault();

    const form = document.getElementById('contactForm');
    const toast = document.getElementById('toast');
    const toastMessage = document.getElementById('toastMessage');
    const spinner = document.getElementById('formSpinner');

    // Lock the form and show spinner
    form.querySelectorAll('input, textarea, button').forEach(el => el.disabled = true);
    toast.style.display = 'block';
    toastMessage.innerText = 'Submitting...';
    spinner.style.display = 'inline-block';

    const url = 'https://script.google.com/macros/s/AKfycbwxqol1D2_fp7X-kBteOrFj2KngTEl2auDxxsS8ER7G1QN6eMPDja948ccEy9yDrIVR/exec';
    const formData = new FormData(form);
    const data = new URLSearchParams(formData);

    try {
      const response = await fetch(url, {
        method: 'POST',
        body: data
      });

      const result = await response.json();
      if (result.result === 'success') {
        toastMessage.innerText = 'Your form has been submitted successfully.';
        form.reset(); // Clear input after submission
      } else {
        toastMessage.innerText = `Error: ${JSON.stringify(result.error)}`;
      }
    } catch (error) {
      console.error('Error:', error);
      toastMessage.innerText = `There was an error submitting your form: ${error.message}`;
    }

    // Unlock the form and hide spinner
    form.querySelectorAll('input, textarea, button').forEach(el => el.disabled = false);
    spinner.style.display = 'none';

    // Hide the toast after 3 seconds
    setTimeout(() => {
      toast.style.display = 'none';
    }, 3000);
  }
</script>
{% endmacro contact %}
